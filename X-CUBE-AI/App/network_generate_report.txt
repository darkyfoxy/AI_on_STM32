Neural Network Tools for STM32AI v1.4.1 (STM.ai v6.0.0-RC6)
Created date       : 2021-10-19 13:32:02
Parameters         : generate --name network -m C:/Users/vlavi/Downloads/MNIST (2).onnx --type onnx --compression 1 --verbosity 1 --workspace C:\Users\vlavi\AppData\Local\Temp\mxAI_workspace8410353994730013341614201860224643 --output C:\Users\vlavi\.stm32cubemx

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file         : C:\Users\vlavi\Downloads\MNIST (2).onnx
type               : onnx
c_name             : network
compression        : None
quantize           : None
workspace dir      : C:\Users\vlavi\AppData\Local\Temp\mxAI_workspace8410353994730013341614201860224643
output dir         : C:\Users\vlavi\.stm32cubemx

model_name         : MNIST_2
model_hash         : df31937334d89e3449d3ab09c1c6059b
input              : modelInput [784 items, 3.06 KiB, ai_float, FLOAT32, (1, 1, 784)]
inputs (total)     : 3.06 KiB
output             : modelOutput [10 items, 40 B, ai_float, FLOAT32, (1, 1, 10)]
outputs (total)    : 40 B
params #           : 199,210 items (778.16 KiB)
macc               : 199,760
weights (ro)       : 796,840 B (778.16 KiB) 
activations (rw)   : 1,600 B (1.56 KiB) 
ram (total)        : 4,776 B (4.66 KiB) = 1,600 + 3,136 + 40

Model name - MNIST_2 ['modelInput'] ['modelOutput']
--------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                 shape     param/size        macc      connected to   |   c_size          c_macc          c_type    
--------------------------------------------------------------------------------------------------------------------------------------
0    modelInput (Input)           (c:784)                                              |                                  
     node_8 (Dense)               (c:200)   156,800/627,200   156,800   modelInput     |   +800(+0.1%)     +200(+0.1%)     dense()[0]
--------------------------------------------------------------------------------------------------------------------------------------
1    fc1bias (Placeholder)        (c:200)   200/800                                    |   -800(-100.0%)                  
     node_9 (Eltwise)             (c:200)                     200       fc1bias        |                   -200(-100.0%)  
                                                                        node_8         |  
--------------------------------------------------------------------------------------------------------------------------------------
2    node_10 (Nonlinearity)       (c:200)                     200       node_9         |                                   nl()[1]   
--------------------------------------------------------------------------------------------------------------------------------------
3    node_12 (Dense)              (c:200)   40,000/160,000    40,000    node_10        |   +800(+0.5%)     +200(+0.5%)     dense()[2]
--------------------------------------------------------------------------------------------------------------------------------------
4    fc2bias (Placeholder)        (c:200)   200/800                                    |   -800(-100.0%)                  
     node_13 (Eltwise)            (c:200)                     200       fc2bias        |                   -200(-100.0%)  
                                                                        node_12        |  
--------------------------------------------------------------------------------------------------------------------------------------
5    node_14 (Nonlinearity)       (c:200)                     200       node_13        |                                   nl()[3]   
--------------------------------------------------------------------------------------------------------------------------------------
6    node_16 (Dense)              (c:10)    2,000/8,000       2,000     node_14        |   +40(+0.5%)      +10(+0.5%)      dense()[4]
--------------------------------------------------------------------------------------------------------------------------------------
7    fc3bias (Placeholder)        (c:10)    10/40                                      |   -40(-100.0%)                   
     node_17 (Eltwise)            (c:10)                      10        fc3bias        |                   -10(-100.0%)   
                                                                        node_16        |  
--------------------------------------------------------------------------------------------------------------------------------------
8    modelOutput (Nonlinearity)   (c:10)                      150       node_17        |                                   nl()/o[5] 
--------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=199,760/199,760  weights=796,840/796,840  activations=--/1,600 io=--/3,176


Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name         : mnist_2
c-name             : network
c-node #           : 6
c-array #          : 13
activations size   : 1600
weights size       : 796840
macc               : 199760
inputs             : ['modelInput_output_array']
outputs            : ['modelOutput_output_array']


C-Arrays (13)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)      item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     modelInput_output   784/3136            user         float        float  /input             
1     node_8_output       200/800             activations  float        float                     
2     node_10_output      200/800             activations  float        float                     
3     node_12_output      200/800             activations  float        float                     
4     node_14_output      200/800             activations  float        float                     
5     node_16_output      10/40               activations  float        float                     
6     modelOutput_output  10/40               user         float        float  /output            
7     node_8_weights      156800/627200       weights      const float  float                     
8     node_8_bias         200/800             weights      const float  float                     
9     node_12_weights     40000/160000        weights      const float  float                     
10    node_12_bias        200/800             weights      const float  float                     
11    node_16_weights     2000/8000           weights      const float  float                     
12    node_16_bias        10/40               weights      const float  float                     
------------------------------------------------------------------------------------------------------------------------


C-Layers (6)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  layer_ macc        rom         tensors                shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     node_8          1   dense  157000      628000      I: modelInput_output   [1, 1, 1, 784] (0)                     
                                                         W: node_8_weights                                             
                                                         W: node_8_bias                                                
                                                         O: node_8_output       [1, 1, 1, 200] (1)                     
------------------------------------------------------------------------------------------------------------------------
1     node_10         2   nl     200         0           I: node_8_output       [1, 1, 1, 200] (1)                     
                                                         O: node_10_output      [1, 1, 1, 200] (2)                     
------------------------------------------------------------------------------------------------------------------------
2     node_12         4   dense  40200       160800      I: node_10_output      [1, 1, 1, 200] (2)                     
                                                         W: node_12_weights                                            
                                                         W: node_12_bias                                               
                                                         O: node_12_output      [1, 1, 1, 200] (3)                     
------------------------------------------------------------------------------------------------------------------------
3     node_14         5   nl     200         0           I: node_12_output      [1, 1, 1, 200] (3)                     
                                                         O: node_14_output      [1, 1, 1, 200] (4)                     
------------------------------------------------------------------------------------------------------------------------
4     node_16         7   dense  2010        8040        I: node_14_output      [1, 1, 1, 200] (4)                     
                                                         W: node_16_weights                                            
                                                         W: node_16_bias                                               
                                                         O: node_16_output      [1, 1, 1, 10] (5)                      
------------------------------------------------------------------------------------------------------------------------
5     modelOutput     8   nl     150         0           I: node_16_output      [1, 1, 1, 10] (5)                      
                                                         O: modelOutput_output  [1, 1, 1, 10] (6)                      
------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=199,760 weights=796,840 act=1,600 ram_io=3,176
----------------------------------------------------------------------------
id   name          c_macc                    c_rom                     c_id
----------------------------------------------------------------------------
0    node_8        ||||||||||||||||  78.6%   ||||||||||||||||  78.8%   [0] 
2    node_10       |                  0.1%   |                  0.0%   [1] 
3    node_12       ||||              20.1%   ||||              20.2%   [2] 
5    node_14       |                  0.1%   |                  0.0%   [3] 
6    node_16       |                  1.0%   |                  1.0%   [4] 
8    modelOutput   |                  0.1%   |                  0.0%   [5] 

Generated files (5)
------------------------------------------------------------------------------------------------------------------------
C:\Users\vlavi\.stm32cubemx\network_config.h
C:\Users\vlavi\.stm32cubemx\network.h
C:\Users\vlavi\.stm32cubemx\network.c
C:\Users\vlavi\.stm32cubemx\network_data.h
C:\Users\vlavi\.stm32cubemx\network_data.c
